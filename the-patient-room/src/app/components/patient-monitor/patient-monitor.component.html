<div class="card" id="patient-monitor">
  <app-staff-actions *ngIf="staff"></app-staff-actions>
  <div
    class="card"
    [class]="patient.in_session ? 'c-accent' : 'c-normal'"
    *ngFor="let patient of patients"
  >
    <p>NAME: {{ patient.firstname }} {{ patient.lastname }}</p>
    <!-- <p>WAITING-TIME: {{ patient.last_visit }}</p> -->
    <p class="patient-info" [class]="patient.room ? 'c-accent' : 'disappear'">
      {{ patient.room ? "ğŸšª: " + patient.room : "" }}
    </p>
    <p
      class="patient-info"
      [class]="patient.message ? 'c-accent' : 'disappear'"
    >
      {{ patient.message ? "ğŸ’¬: " + patient.message : "" }}
    </p>

    <div *ngIf="staff">
      <div class="dropdown">
        <button class="c-accent dropbtn" (click)="callPatient(patient.id)">
          CALL TO ROOM ğŸ””
          <select (change)="setRoom($event)">
            <option *ngFor="let room of rooms" [value]='room'>{{room}}</option>
          </select>
        </button>
      </div>
      <button *ngIf="patient.in_session" class="c-accent" (click)="endSession(patient.id)">
        END CALL ğŸ”•
      </button>
      <button class="c-accent" (click)="removePatient(patient.id)">
        âŒ REMOVE
      </button>
      <a routerLink="./message-patient">
        <button (click)="setMsgPatient(patient.id)" class="c-accent">
          ğŸ’¬ğŸ¤§ MESSAGE PATIENT
        </button>
      </a>
      <button
        *ngIf="patient.message"
        (click)="removeMsg(patient.id)"
        class="c-accent"
      >
        âŒğŸ’¬ REMOVE MESSAGE
      </button>
    </div>
  </div>
</div>
